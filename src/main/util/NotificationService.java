package util;

import model.Link;

/**
 * Ğ¡ĞµÑ€Ğ²Ğ¸Ñ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
 */
public class NotificationService {
    
    /**
     * Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ÑĞµÑ‚ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ Ğ¾ Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸ ÑÑÑ‹Ğ»ĞºĞ¸
     * @param link ÑÑÑ‹Ğ»ĞºĞ°
     * @param reason Ğ¿Ñ€Ğ¸Ñ‡Ğ¸Ğ½Ğ° Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ¾ÑÑ‚Ğ¸
     */
    public static void notifyLinkUnavailable(Link link, String reason) {
        if (link == null) {
            System.out.println("âš ï¸ Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğµ: Ğ¡ÑÑ‹Ğ»ĞºĞ° Ğ½Ğµ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½Ğ°");
            return;
        }

        System.out.println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        System.out.println("âš ï¸ Ğ£Ğ’Ğ•Ğ”ĞĞœĞ›Ğ•ĞĞ˜Ğ•");
        System.out.println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
        System.out.println("ĞšĞ¾Ñ€Ğ¾Ñ‚ĞºĞ°Ñ ÑÑÑ‹Ğ»ĞºĞ°: " + link.getShortUrl());
        System.out.println("ĞÑ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ URL: " + link.getOriginalUrl());
        System.out.println("ĞŸÑ€Ğ¸Ñ‡Ğ¸Ğ½Ğ°: " + reason);
        
        if (link.isClickLimitReached()) {
            System.out.println("ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¾Ğ² Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¾: " + link.getCurrentClicks() + " / " + link.getClickLimit());
        }
        
        if (link.isExpired()) {
            java.time.format.DateTimeFormatter formatter = java.time.format.DateTimeFormatter.ofPattern("dd.MM.yyyy HH:mm");
            System.out.println("Ğ¡Ñ€Ğ¾Ğº Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ñ Ğ¸ÑÑ‚ĞµĞº: " + link.getExpiresAt().format(formatter));
        }
        
        System.out.println("â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•");
    }

    /**
     * Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ÑĞµÑ‚ Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğ¸ ÑÑÑ‹Ğ»ĞºĞ¸
     * @param shortUrl ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ°Ñ ÑÑÑ‹Ğ»ĞºĞ°
     * @param originalUrl Ğ¾Ñ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ URL
     */
    public static void notifyLinkCreated(String shortUrl, String originalUrl) {
        System.out.println("âœ… Ğ¡ÑÑ‹Ğ»ĞºĞ° ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ°!");
        System.out.println("ĞšĞ¾Ñ€Ğ¾Ñ‚ĞºĞ°Ñ ÑÑÑ‹Ğ»ĞºĞ°: " + shortUrl);
        System.out.println("ĞÑ€Ğ¸Ğ³Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ URL: " + originalUrl);
    }

    /**
     * Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ÑĞµÑ‚ Ğ¾Ğ± ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ¸Ğ¸ ÑÑÑ‹Ğ»ĞºĞ¸
     * @param shortUrl ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ°Ñ ÑÑÑ‹Ğ»ĞºĞ°
     */
    public static void notifyLinkDeleted(String shortUrl) {
        System.out.println("ğŸ—‘ï¸ Ğ¡ÑÑ‹Ğ»ĞºĞ° " + shortUrl + " ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾ ÑƒĞ´Ğ°Ğ»ĞµĞ½Ğ°");
    }

    /**
     * Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ÑĞµÑ‚ Ğ¾Ğ± Ğ¾ÑˆĞ¸Ğ±ĞºĞµ
     * @param message ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¾Ğ± Ğ¾ÑˆĞ¸Ğ±ĞºĞµ
     */
    public static void notifyError(String message) {
        System.out.println("âŒ ĞÑˆĞ¸Ğ±ĞºĞ°: " + message);
    }

    /**
     * Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ÑĞµÑ‚ Ğ¾Ğ± ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾Ğ¹ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸
     * @param message ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
     */
    public static void notifySuccess(String message) {
        System.out.println("âœ… " + message);
    }
}
